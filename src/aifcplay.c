#include "SampleSearch.h"#include "Globals.h"#include "xSound.h"#include <Resources.h>#include <FixMath.h>#include <Types.h>#include <SoundInput.h>#include "aifcplay.h"Boolean finishedPlaying;extern SndChannelPtr mySndChan;SndChannelPtr CreateSndChannel(Boolean Stereo);void AIFCPlay(FSSpec mySpec, short playFreq){	short refNum;	OSErr iErr;	SCStatus theStat;		iErr = FSpOpenDF (&mySpec,fsRdPerm, &refNum);	if (iErr)	{		return;	}	while (Button())	{		}	finishedPlaying = false;		mySndChan = CreateSndChannel(true);			iErr = SndStartFilePlay(mySndChan,refNum,0,32768L,0,0,NewFilePlayCompletionProc(MyFilePlayCompletionRoutine),true);	while (!finishedPlaying)	{		if (Button())		{			iErr = SndStopFilePlay(mySndChan,true);			finishedPlaying = true;		}	}		iErr = SndChannelStatus(mySndChan,sizeof(SCStatus),&theStat);	while (theStat.scChannelBusy && !(Button()))	{		iErr = SndChannelStatus(mySndChan,sizeof(SCStatus),&theStat);	}		iErr = SndDisposeChannel(mySndChan,true);	DisposPtr((Ptr)mySndChan);				FSClose (refNum);	return;}pascal void MyFilePlayCompletionRoutine (SndChannelPtr chan){	finishedPlaying = true;	return;}